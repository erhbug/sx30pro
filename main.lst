C51 COMPILER V7.50   MAIN                                                                  09/08/2022 13:03:45 PAGE 1   


C51 COMPILER V7.50, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE customer\main.c BROWSE DEBUG OBJECTEXTEND PRINT(.\main.lst) OBJECT(main.obj
                    -)

line level    source

   1          #pragma code symbols debug oe
   2          #define EXTERN
   3          #include <REG52.H>
   4          #include <math.h>
   5          #include "./_solidic/head_file_version.h"
   6          #include "./_display/dvr_lcd_SDI1621.h"
*** WARNING C245 IN LINE 40 OF C:\KEIL\C51\INC\STDIO.H: unknown #pragma, line ignored
*** WARNING C245 IN LINE 52 OF C:\KEIL\C51\INC\STRING.H: unknown #pragma, line ignored
   7          
   8          
   9          
  10          #define     BL_EN       P1 |= 0x20
  11          #define     BL_DIS      P1 &= 0xDF
  12          
  13          #define     BEEPER_EN   P1 |= 0x10
  14          #define     BEEPER_DIS  P1 &= 0xEF
  15          
  16          void delay_ms(unsigned int num)
  17          {       
  18   1              unsigned int i,j;
  19   1              for(i= 0;i<num;i++)     //(SDI5219) ??1ms
  20   1                      for(j=0;j<164;j++)
  21   1                              ;
  22   1      }
  23          
  24          void init_pwm(void){
  25   1          PWMF_H  = 0x00;
  26   1              PWMF_L  = 0x20;
  27   1              PWM0    = 05;
  28   1              PWM1    = 03;
  29   1              PWMCON  = 0x04; //PWM0-P1.4(LCD_LAMP)????(?PWM0=0xff?,?????)
  30   1      }
  31          
  32          main()
  33          {
  34   1              P1M0 = 0xff;
  35   1              P1M1 = 0x00;
  36   1              P2M0 = 0xff;
  37   1              P2M1 = 0x00;
  38   1              P2 = 0x00;
  39   1              P1 = 0x00;
  40   1      
  41   1              iLCD_GLASS_Init();
  42   1              LCD_GLASS_String("TORREY",LCD_PESO);
  43   1              LCD_GLASS_String("Y",LCD_PRECIO);
  44   1              LCD_GLASS_String("2022",LCD_TOTAL);
  45   1       
  46   1      
  47   1              init_pwm();
  48   1              BL_DIS;
  49   1              BEEPER_EN;
  50   1      
  51   1      while(1){       
  52   2              ;
C51 COMPILER V7.50   MAIN                                                                  09/08/2022 13:03:45 PAGE 2   

  53   2      /*P1 = 0x04;
  54   2              delay_ms(400);
  55   2              P1 = 0x00;
  56   2              delay_ms(400);
  57   2              P2 = 0x0E;
  58   2              delay_ms(200);
  59   2              P2 = 0x00;
  60   2              delay_ms(200);*/
  61   2      }
  62   1      
  63   1      }
  64          
  65          /*      while(1){
  66          
  67          LCD_DATA_ON;//P2.2
  68          delay_ms(10);
  69          LCD_DATA_OFF;
  70          delay_ms(10);
  71          
  72                  }*/
C51 COMPILER V7.50   MAIN                                                                  09/08/2022 13:03:45 PAGE 3   

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION _delay_ms (BEGIN)
                                           ; SOURCE LINE # 16
;---- Variable 'num' assigned to Register 'R6/R7' ----
                                           ; SOURCE LINE # 17
                                           ; SOURCE LINE # 19
;---- Variable 'i' assigned to Register 'R4/R5' ----
0000 E4                CLR     A
0001 FD                MOV     R5,A
0002 FC                MOV     R4,A
0003         ?C0001:
0003 C3                CLR     C
0004 ED                MOV     A,R5
0005 9F                SUBB    A,R7
0006 EC                MOV     A,R4
0007 9E                SUBB    A,R6
0008 5015              JNC     ?C0007
                                           ; SOURCE LINE # 20
;---- Variable 'j' assigned to Register 'R2/R3' ----
000A E4                CLR     A
000B FB                MOV     R3,A
000C FA                MOV     R2,A
000D         ?C0004:
000D 0B                INC     R3
000E BB0001            CJNE    R3,#00H,?C0012
0011 0A                INC     R2
0012         ?C0012:
0012 EB                MOV     A,R3
0013 64A4              XRL     A,#0A4H
0015 4A                ORL     A,R2
0016 70F5              JNZ     ?C0004
0018         ?C0003:
0018 0D                INC     R5
0019 BD0001            CJNE    R5,#00H,?C0013
001C 0C                INC     R4
001D         ?C0013:
001D 80E4              SJMP    ?C0001
                                           ; SOURCE LINE # 22
001F         ?C0007:
001F 22                RET     
             ; FUNCTION _delay_ms (END)

             ; FUNCTION init_pwm (BEGIN)
                                           ; SOURCE LINE # 24
                                           ; SOURCE LINE # 25
0000 E4                CLR     A
0001 F59A              MOV     PWMF_H,A
                                           ; SOURCE LINE # 26
0003 759B20            MOV     PWMF_L,#020H
                                           ; SOURCE LINE # 27
0006 759C05            MOV     PWM0,#05H
                                           ; SOURCE LINE # 28
0009 759D03            MOV     PWM1,#03H
                                           ; SOURCE LINE # 29
000C 759E04            MOV     PWMCON,#04H
                                           ; SOURCE LINE # 30
000F 22                RET     
             ; FUNCTION init_pwm (END)

             ; FUNCTION main (BEGIN)
C51 COMPILER V7.50   MAIN                                                                  09/08/2022 13:03:45 PAGE 4   

                                           ; SOURCE LINE # 32
                                           ; SOURCE LINE # 33
                                           ; SOURCE LINE # 34
0000 7594FF            MOV     P1M0,#0FFH
                                           ; SOURCE LINE # 35
0003 E4                CLR     A
0004 F595              MOV     P1M1,A
                                           ; SOURCE LINE # 36
0006 7596FF            MOV     P2M0,#0FFH
                                           ; SOURCE LINE # 37
0009 F597              MOV     P2M1,A
                                           ; SOURCE LINE # 38
000B F5A0              MOV     P2,A
                                           ; SOURCE LINE # 39
000D F590              MOV     P1,A
                                           ; SOURCE LINE # 41
000F 120000      E     LCALL   iLCD_GLASS_Init
                                           ; SOURCE LINE # 42
0012 7BFF              MOV     R3,#0FFH
0014 7A00        R     MOV     R2,#HIGH ?SC_0
0016 7900        R     MOV     R1,#LOW ?SC_0
0018 7D01              MOV     R5,#01H
001A 120000      E     LCALL   _LCD_GLASS_String
                                           ; SOURCE LINE # 43
001D 7BFF              MOV     R3,#0FFH
001F 7A00        R     MOV     R2,#HIGH ?SC_7
0021 7900        R     MOV     R1,#LOW ?SC_7
0023 7D02              MOV     R5,#02H
0025 120000      E     LCALL   _LCD_GLASS_String
                                           ; SOURCE LINE # 44
0028 7BFF              MOV     R3,#0FFH
002A 7A00        R     MOV     R2,#HIGH ?SC_9
002C 7900        R     MOV     R1,#LOW ?SC_9
002E E4                CLR     A
002F FD                MOV     R5,A
0030 120000      E     LCALL   _LCD_GLASS_String
                                           ; SOURCE LINE # 47
0033 120000      R     LCALL   init_pwm
                                           ; SOURCE LINE # 48
0036 5390DF            ANL     P1,#0DFH
                                           ; SOURCE LINE # 49
0039 439010            ORL     P1,#010H
003C         ?C0009:
                                           ; SOURCE LINE # 51
                                           ; SOURCE LINE # 61
003C 80FE              SJMP    ?C0009
             ; FUNCTION main (END)

C51 COMPILER V7.50   MAIN                                                                  09/08/2022 13:03:45 PAGE 5   

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


ADCcmd . . . . . . . . . . . . . . . .  PUBLIC   DATA   BIT      0000H  1
P1M0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0094H  1
Key_response . . . . . . . . . . . . .  PUBLIC   DATA   BIT      0001H  1
P2M0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0096H  1
P1M1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0095H  1
P0 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0080H  1
P2M1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0097H  1
P1 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0090H  1
P2 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A0H  1
P3 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B0H  1
System_data. . . . . . . . . . . . . .  PUBLIC   XDATA  UNION    0000H  10
ADpattern. . . . . . . . . . . . . . .  * TAG *  -----  UNION    -----  4
  w. . . . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0000H  4
  b. . . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  4
SOLIDIC. . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  20
  mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  cmd. . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  LCD_BUF. . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0002H  16
  addr . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0012H  1
  counter. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0013H  1
_bool. . . . . . . . . . . . . . . . .  * TAG *  -----  ENUM     -----  -----
IE . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A8H  1
iLCD_GLASS_Init. . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
size_t . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
Temperature. . . . . . . . . . . . . .  PUBLIC   XDATA  CHAR     000AH  1
uchar. . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
IP . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B8H  1
Lcd_lamp_symbol. . . . . . . . . . . .  PUBLIC   DATA   BIT      0002H  1
NRM_securty_a. . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   000BH  1
NRM_securty_b. . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   000CH  1
PWM0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009CH  1
PWM1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009DH  1
main . . . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
Key_code . . . . . . . . . . . . . . .  PUBLIC   DATA   U_CHAR   0000H  1
ulong. . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
_delay_ms. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  num. . . . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0006H  2
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0004H  2
  j. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0002H  2
SCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0098H  1
TCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0088H  1
Power_det_mode . . . . . . . . . . . .  PUBLIC   DATA   BIT      0003H  1
SDI5219X1_symbol . . . . . . . . . . .  PUBLIC   DATA   BIT      0004H  1
Temp_auto_det_counter. . . . . . . . .  PUBLIC   XDATA  U_INT    000DH  2
Key_press. . . . . . . . . . . . . . .  PUBLIC   DATA   BIT      0005H  1
Cal_temp_sign. . . . . . . . . . . . .  PUBLIC   DATA   BIT      0006H  1
TURE . . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
uint . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
ADcode_pre . . . . . . . . . . . . . .  PUBLIC   IDATA  U_LONG   0000H  4
Vol_auto_det_counter . . . . . . . . .  PUBLIC   DATA   U_INT    0001H  2
PWMCON . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009EH  1
SYS_pattern. . . . . . . . . . . . . .  * TAG *  -----  UNION    -----  10
  sys_struct . . . . . . . . . . . . .  MEMBER   -----  STRUCT   0000H  10
  b. . . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  10
PWMF_H . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009AH  1
boolean. . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
PWMF_L . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009BH  1
C51 COMPILER V7.50   MAIN                                                                  09/08/2022 13:03:45 PAGE 6   

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


T2CON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C8H  1
_LCD_GLASS_String. . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
init_pwm . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
FALSE. . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
INTpattern . . . . . . . . . . . . . .  * TAG *  -----  UNION    -----  2
  i. . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
  b. . . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  2
Lcd_bright . . . . . . . . . . . . . .  PUBLIC   DATA   U_CHAR   0003H  1
Data_sycle_symbol. . . . . . . . . . .  PUBLIC   DATA   BIT      0007H  1
PSW. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D0H  1


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    110    ----
   CONSTANT SIZE    =     14    ----
   XDATA SIZE       =     15    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4    ----
   IDATA SIZE       =      4    ----
   BIT SIZE         =      8    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  2 WARNING(S),  0 ERROR(S)
