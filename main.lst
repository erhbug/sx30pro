C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 1   


C51 COMPILER V7.50, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE customer\main.c BROWSE DEBUG OBJECTEXTEND PRINT(.\main.lst) OBJECT(main.obj
                    -)

line level    source

   1          //*************************************************************************//
   2          //* Name                                :   main.c
   3          //* Vision                              :       V-Nov07_12
   4          //* Project                             :   All project
   5          //* Function                    :   Solidic µç×Ó³Æ Ö÷ÎÄ¼þ
   6          //* $Author                             :   superc
   7          //*
   8          //* Copyright 2012 by solidic
   9          //*
  10          //* Recode:
  11          //*                                             1: 2012-11-07  First Creat By Superc
  12          //*
  13          //*
  14          //*
  15          //*************************************************************************//
  16          #pragma code symbols debug oe
  17          #define EXTERN
  18          #include <REG52.H>
  19          #include <math.h>
  20          #include "./_solidic/head_file_version.h"
  21          
  22          
  23          main()
  24          {
  25   1      //********************************************************************************************************
             -****************
  26   1      // -- ³õÊ¼»¯ÏµÍ³ --
  27   1      //********************************************************************************************************
             -****************
  28   1      //--°´¼ü¹Ø»ú,¼æÈÝSDI5219X1ºÍSDI5219µÄ´úÂë--Begin--
  29   1      //--SDI5219X1¿´ÃÅ¹·¸´Î»²¢²»¶Ô×ÔÉí¸´Î»£¬ËùÒÔÎªÁË¼æÈÝSDI5219µÄ°´¼ü¹Ø»ú0.2s¿´ÃÅ¹·¸´Î»,±ØÐëÒ»¿ª»ú¾Í½«¿´ÃÅ¹·ÅäÖ
             -Ãµ½4Ãë,·ñÔò»áÓÐÒ»Ö±ÖØÆô
  30   1      //--ÒòÎªSDI5219X1°´¼ü¹Ø»ú0.2s¿´ÃÅ¹·¸´Î»ºó£¬Ô­À´³ÌÐòÒªµ½0.5sºó²Å²Ù×÷¿´ÃÅ¹·£¬ËùÒÔ¿´ÃÅ¹·»áÔÚ²Ù×÷ËüÖ®Ç°ÖØÐÂ¸´Î
             -»
  31   1              //---´ò¿ª¿´ÃÅ¹·
  32   1              EA = 0;
  33   1              WD_TA = 0x05;
  34   1              WD_TA = 0x0a;
  35   1              WDCON = 0xbf;   //¿´ÃÅ¹·Ê±¼ä 4sÖÓ,µÍÆµ»½ÐÑ0.2s
  36   1              //---ÅÐ¶ÏÊÇ·ñÊÇSDI5219-X1
  37   1              if((LCD_CON == 0x5c) && (LCD_SEL == 0xd0))
  38   1                      SDI5219X1_symbol = 1;
  39   1              else
  40   1                      SDI5219X1_symbol = 0;
  41   1      //--¼æÈÝSDI5219X1ºÍSDI5219µÄ´úÂë--End--
  42   1              P0 = 0xff;
  43   1              P1 = 0xdf;      //P1.5(BUZZER_P) = 0; P1.4(LCD_LAMP) = 1;
  44   1              P2 = 0xff;
  45   1              SCLK = 0;       
  46   1      //--³õÊ¼»¯PWM--
  47   1              PWMF_H  = 0x00;
  48   1              PWMF_L  = 0xff;
  49   1              PWM0    = LCD_LAMP_B2;
  50   1              PWM1    = 0xff; 
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 2   

  51   1              PWMCON  = 0x04; //PWM0-P1.4(LCD_LAMP)Êä³ö²¨ÐÎ(µ±PWM0=0xffÊ±,Êä³ö¸ßµçÆ½)
  52   1      //--ÅäÖÃIOÄ£Ê½ 
  53   1              //ÅäÖÃP1.1 P1.2ÎªÕý³£ÉÏÀ­
  54   1              P1M0 = 0x00;
  55   1              P1M1 = 0x00;
  56   1              //ÅäÖÃP0 Îª ´¿Ä£ÄâÊäÈë
  57   1              P0M0 = 0x00;
  58   1              P0M1 = 0xff;
  59   1              //ÅäÖÃP1 Îª ´¿Ä£ÄâÊäÈë
  60   1              P1M0 = 0x00;
  61   1              P1M1 = 0xff;
  62   1              //ÅäÖÃP2.0 P2.1 Ö»ÊäÈë
  63   1              P2M0 = 0x00;
  64   1              P2M1 = 0xff;
  65   1      //--¹Ø¼ü¹Ü½ÅµÄIOÅäÖÃ
  66   1              IO_MODE_RESTORE_A_EN;
  67   1      //---ÅäÖÃSigma_delta ADC---
  68   1              //--ÅäÖÃADC---
  69   1      //      (5216²»ÐèÒª´ò¿ªSOC-SGADCÖÐ¶Ï)EIE |= 0x04;               //´ò¿ªSG ADC ÖÐ¶Ï
  70   1              SGADCON = SGADCON_DEFAULT;
  71   1              PD_CON = PD_CON_DEFAULT;
  72   1      //--³õÊ¼»¯¶¨Ê±Æ÷
  73   1              TMOD = 0x11;    //¶¨Ê±Æ÷0¡¢1¶¼¹¤×÷ÔÚ16Î»×´Ì¬ÏÂ                          
  74   1              TH0 = 0x80;                       
  75   1              TL0 = 0x00;
  76   1              //TH1 = 0x00;                       
  77   1              //TL1 = 0x00;
  78   1              //TR0  = 1;     //¿ª¼ÆÊýÆ÷0,ÓÃÓÚ¿ØÖÆ¼üÅÌÉ¨Ãè                                    
  79   1              //TR1  = 1;     //¿ª¼ÆÊýÆ÷1,ÓÃÓÚÊ±¼ä¿ØÖÆ                        
  80   1      //--ÅäÖÃÖÐ¶Ï
  81   1              IT0 = 0;                //Éè¶¨Íâ²¿ÖÐ¶Ï0 ²ÉÓÃµÍµçÆ½´¥·¢
  82   1              //IT1 = 0;              //Éè¶¨Íâ²¿ÖÐ¶Ï1 ²ÉÓÃµÍµçÆ½´¥·¢
  83   1              //IE   = 0x82;  //½ö½ö¿ª ¼ÆÊ±Æ÷ÖÐ¶Ï0
  84   1              IE   = 0x81;    //½ö½ö¿ª Íâ²¿ÖÐ¶Ï0
  85   1              //--×¢Òâ£¬½«ÄÜ»½ÐÑSTOP1-2µÄÖÐ¶ÏÒªÅäÖÃÎª×î¸ßÓÅÏÈ¼¶
  86   1              //--ÅäÖÃÖÐ¶ÏÓÅÏÈ¼¶
  87   1              IP = 0x05;              //Íâ²¿ÖÐ¶Ï0,1Îª¸ßÓÅÏÈ¼¶
  88   1              EIP = 0x06;             //µÍÆµ»½ÐÑ£¬24Î»ADCÖÐ¶ÏÎª¸ßÓÅÏÈ¼¶
  89   1      //---±äÁ¿³õÊ¼»¯---
  90   1      
  91   1      //---Xdata ±äÁ¿³õÊ¼»¯ ---
  92   1      //--- Ìõ¼þ±àÒë: ÎÂ¶È¼ì²â -- begin ---
  93   1      #ifdef TEMP_DET_EN
  94   1              Temperature = 25;
  95   1              Temp_auto_det_counter = 0;
  96   1      #endif
  97   1      //--- Ìõ¼þ±àÒë: ÎÂ¶È¼ì²â -- end ---
  98   1      //--ÑÓÊ±
  99   1              delay_ms(500);
 100   1      //--SDI5219---
 101   1              //---´ò¿ª¿´ÃÅ¹·
 102   1              EA = 0;
 103   1              WD_TA = 0x05;
 104   1              WD_TA = 0x0a;
 105   1              WDCON = 0x1f;   //(SDI5216)¿´ÃÅ¹·Ê±¼ä 4sÖÓ,(¹Ø±Õ)µÍÆµ»½ÐÑ0.2s
 106   1              EA = 1;
 107   1              //--´ò¿ªµÍÆµ»½ÐÑÖÐ¶Ï
 108   1      //--- Ìõ¼þ±àÒë: ÎÂ¶È¼ì²â -- begin ---
 109   1      #ifdef TEMP_DET_EN
 110   1              //--ÎÂ¶È¼ì²â--
 111   1              temp_code_catch(0);
 112   1      #endif
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 3   

 113   1      //--- Ìõ¼þ±àÒë: ÎÂ¶È¼ì²â -- end ---
 114   1      
 115   1      //********************************************************************************************************
             -****************
 116   1      // -- ´¦ÀíÖ÷Ñ­»· --
 117   1      //********************************************************************************************************
             -****************
 118   1              while(1)
 119   1              {
 120   2                      //--¹Ø¼ü¹Ü½ÅµÄIOÅäÖÃ
 121   2                      IO_MODE_RESTORE_A_EN;
 122   2                      //************************************************
 123   2                      //---Î¹¹·--¼°ÆäËû°²È«´¦Àí-begin-
 124   2                      //************************************************
 125   2                      EA = 0;
 126   2                      WD_TA = 0x05;
 127   2                      WD_TA = 0x0a;
 128   2                      WDCON = 0x1f;   //(SDI5216)¿´ÃÅ¹·Ê±¼ä 4sÖÓ,(¹Ø±Õ)µÍÆµ»½ÐÑ0.2s
 129   2                      EA = 1;
 130   2                      //-- ¿ªÆôADCµÄÍâ²¿ÖÐ¶Ï --
 131   2                      EX0 = 1;
 132   2      
 133   2                      //************************************************
 134   2                      //---°´¼ü´¦Àí-----------------begin---------------
 135   2                      //************************************************
 136   2                      if( Key_press && (!Key_response) )
 137   2                      {       
 138   3                              key_scan();
 139   3                              //Flash °²È«ÑéÖ¤Âë A
 140   3                              NRM_securty_a = 0xaa;   //Flash °²È«ÑéÖ¤Âë A
 141   3                              if(Key_code == TAPE)
 142   3                              {
 143   4                                      unsigned char temp;
 144   4                                      //Flash °²È«ÑéÖ¤Âë B
 145   4                                      NRM_securty_b = 0x55;   //Flash °²È«ÑéÖ¤Âë B
 146   4                                      //--Flash Ð´Èë²âÊÔ --
 147   4                                      temp = nvm_data_read_byte(ADDR_SYS_DATA + 0);
 148   4                                      temp ++;
 149   4                                      e2rom_erase(ADDR_SYS_DATA); //²Á³ý
 150   4                                      nvm_data_write_byte(ADDR_SYS_DATA + 0,55);
 151   4                                      Key_response = 1;
 152   4                              }
 153   3                      }
 154   2                      //************************************************
 155   2                      //---°´¼ü´¦Àí-----------------end---------------
 156   2                      //************************************************
 157   2      
 158   2      
 159   2                      //************************************************
 160   2                      //---(Ê±¼äÏà¹Ø¹¦ÄÜ¿é)-----------------begin-------
 161   2                      //************************************************              
 162   2                      if(Data_sycle_symbol)
 163   2                      {
 164   3                              Data_sycle_symbol = 0;
 165   3                              //-- ²âÊÔµçÑ¹ --
 166   3                              if(Vol_auto_det_counter >= VOL_AUTO_DET_NUM) //µç³ØµçÑ¹¼ì²â
 167   3                              {
 168   4                                      power_detect();
 169   4                                      Vol_auto_det_counter = 0;
 170   4                              }
 171   3                              else
 172   3                              {
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 4   

 173   4                                      Vol_auto_det_counter ++;
 174   4                              }
 175   3      
 176   3                      //--- Ìõ¼þ±àÒë: ÎÂ¶È¼ì²â -- begin ---
 177   3                      #ifdef TEMP_DET_EN
 178   3                              if(Temp_auto_det_counter >= TEMP_AUTO_DET_NUM) //µç³ØµçÑ¹¼ì²â
 179   3                              {
 180   4                                      //--ÎÂ¶È¼ì²â--
 181   4                                      temp_code_catch(1);
 182   4                                      Temp_auto_det_counter = 0;
 183   4                              }
 184   3                              else
 185   3                              {
 186   4                                      Temp_auto_det_counter ++;
 187   4                              }
 188   3                      #endif
 189   3                      //--- Ìõ¼þ±àÒë: ÎÂ¶È¼ì²â -- end ---
 190   3                      }
 191   2      
 192   2                      //************************************************
 193   2                      //---(Ê±¼äÏà¹Ø¹¦ÄÜ¿é)-----------------end-------
 194   2                      //************************************************
 195   2      
 196   2      //------ Çå³ý Flash °²È«Âë -- beign --
 197   2                      NRM_securty_a = 0x00;   //Flash °²È«ÑéÖ¤Âë A
 198   2                      NRM_securty_b = 0x00;   //Flash °²È«ÑéÖ¤Âë B
 199   2      //------ Çå³ý Flash °²È«Âë -- end --
 200   2      
 201   2                      //************************************************
 202   2                      //---  ÐÝÃß´¦Àí ----------------- begin -------
 203   2                      //************************************************
 204   2      
 205   2                      //×¢Òâ: Ã¿´ÎÑ­»·MCUÍ£ÔÚ´Ë´¦£¬ÓÉÍâ²¿ÖÐ¶Ï»½ÐÑ
 206   2                      PCON |= 0x10; //STOP2 ----MCU½«Í£ÔÚ´Ë´¦ 
 207   2      
 208   2                      //************************************************
 209   2                      //---  ÐÝÃß´¦Àí ----------------- end -------
 210   2                      //************************************************
 211   2      
 212   2                      //************************************************
 213   2                      //---  ¼üÅÌÒÔ¼°IO¼ì²â ----------------- begin ----
 214   2                      //************************************************
 215   2                      EA = 0;
 216   2                      //--IO¿ÚÅäÖÃ--
 217   2                      IO_MODE_KEY_A_EN;
 218   2                      // ·ÀÖ¹³ö´í£¬½« KEY_PIN1 - KEY_PIN4 Ð´1
 219   2                      KEY_PIN1 = 1;   
 220   2                      KEY_PIN2 = 1;   
 221   2                      KEY_PIN3 = 1;   
 222   2                      KEY_PIN4 = 1;
 223   2                      // ¼ì²âÊÇ·ñÓÐ½¡°´ÏÂ
 224   2                      KEY_PIN5 = 0;
 225   2                      KEY_PIN6 = 0;
 226   2                      KEY_PIN7 = 0;
 227   2                      KEY_PIN8 = 0;
 228   2                      //KEY_PIN9 = 0;
 229   2                      KEY_PIN10 = 0;
 230   2                      delay_ms(0);
 231   2                      // Èç¹û KEY_1,KEY_2,KEY_3,KEY_4Îª1,ÔòËµÃ÷Ã»ÓÐ¼ü±»°´ÏÂ
 232   2                      if(KEY_PIN1 && KEY_PIN2 && KEY_PIN3 && KEY_PIN4)
 233   2                      {
 234   3                              Key_press = 0;
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 5   

 235   3                              Key_response = 0;
 236   3                      }
 237   2                      else
 238   2                      {
 239   3                              Key_press = 1;                                                                                                                  
 240   3                      }
 241   2                      //--IO¿ÚÅäÖÃ--
 242   2                      IO_MODE_KEY_DIS;
 243   2                      EA = 1;
 244   2                      //************************************************
 245   2                      //---  ¼üÅÌÒÔ¼°IO¼ì²â ----------------- end ----
 246   2                      //************************************************                              
 247   2              }//---while(1)
 248   1      }//----main()
 249          
 250          
 251          //--------------------------------
 252          //----- ÑÓÊ±º¯Êý,num=1,ÑÓÊ±1ms ---
 253          //--SDI5219---
 254          void delay_ms(unsigned int num)
 255          {       
 256   1              unsigned int i,j;
 257   1              for(i= 0;i<num;i++)     //(SDI5219) ÑÓÊ±1ms
 258   1                      for(j=0;j<164;j++)
 259   1                              ;
 260   1      }
 261          
 262          //----------------------------------------------------------
 263          //---   ¼ì²âµç³ØµçÑ¹   ----
 264          unsigned int power_detect(void)
 265          {
 266   1              unsigned int v;
 267   1              EA = 0;
 268   1      //--- 
 269   1              BAT_DET_PIN_HIGH; // µç³ØµçÑ¹¼ì²â½Å±ä¸ß, ·ñÔòµç³ØµçÑ¹¼ì²â½«²»Õý³£
 270   1              //--²âÊÔÍ¨µÀ1µÄµçÑ¹
 271   1              SARCON  = 0x09;  //Í¨µÀ1 ËÙ¶È×î¿ì ´ò¿ªSar-ADC
 272   1              delay_ms(1);
 273   1              
 274   1              if(!(SARCON & 0x04)) // ADC²»Ã¦Ôò¿ªÊ¼×ª»»
 275   1              {
 276   2                      SARCON |= 0x04;
 277   2                      while(SARCON & 0x04) // µÈ´ý×ª»»½áÊø
 278   2                      {
 279   3                      }
 280   2              }
 281   1      
 282   1              v = SARDATA;
 283   1              v = (unsigned long)v * (unsigned long)V_CO_PRE / 0xff; // ¼ÆËãµç³ØµçÑ¹
 284   1      
 285   1      //--- »Ö¸´ Ïà¹ØIO¿ÚÅäÖÃ ----
 286   1              //-- Èç¹û µçÑ¹¼ì²â¹Ü½ÅºÍ¼üÅÌ¹Ü½Å¹«ÓÃµÄ»°£¬ÐèÒª½«¼üÅÌËùÓÐ¼ì²âIO±äÎª [½öÊäÈëÄ£Ê½]
 287   1      
 288   1              SARCON  &= 0xf7;; //¹Ø±ÕADC
 289   1              EA = 1;
 290   1              return(v);
 291   1      }
 292          
 293          
 294          //0819 24bit SG ADC ÖÐ¶Ï,¶ÁÈ¡adcÊý¾Ý£»*****************
 295          static void int0_serve(void) interrupt 0
 296          {               
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 6   

 297   1              EA = 0;  // ½ûÖ¹ÖÐ¶Ï
 298   1              ADCcmd = 0;
 299   1              data_receive(); // ¶ÁÈ¡ SDI0818 µÄ ×ª»»Êý¾Ý
 300   1              ADcode_pre &= 0x00ffffff;
 301   1              ADcode_pre >>= 2;
 302   1              Data_sycle_symbol = 1;  //ÐÂµÄÊý¾ÝÖÜÆÚ
 303   1              IE0 = 0;        // ½«¶ÁÐ´Êý¾ÝÊ± µÄÏÂ½µÑØ ´¥·¢µÄÖÐ¶ÏÐÅÏ¢ È¥³ý
 304   1              EA = 1;  // ´ò¿ªÖÐ¶Ï
 305   1      }
 306          
 307          
 308          //--- Ìõ¼þ±àÒë: ÎÂ¶È¼ì²â -- begin ---
 309          #ifdef TEMP_DET_EN
 310          // -- ÎÂ¶È¼ì²â Í¨µÀ --
 311          // mode = 1: ÐèÒªÍ¨µÀ1ÑÓ³Ù
 312          // mode = 0: ²»ÐèÒªÍ¨µÀ1ÑÓ³Ù
 313          //-----------
 314          void temp_code_catch(bit mode)
 315          { 
 316   1              unsigned long  adcode_last = 0;
 317   1              union  ADpattern xdata temp;
 318   1              unsigned char i = 0;
 319   1              unsigned char j = 0;
 320   1              bit temp_sign;
 321   1      //-----------------
 322   1              unsigned long  per_temp_code_acture = TEMP_PER_D_CODE_0;        
 323   1                      
 324   1              EA = 0; //½ûÖ¹ÖÐ¶Ï
 325   1              ADCcmd = 0;     
 326   1              //-- ÎÂ¶ÈÍ¨µÀ -- 80Hz --
 327   1              PD_CON &= 0xe7;         //½âËø SGADCON,SGADCON2
 328   1              PD_CON |= 0x07;         //¿ªÆôÎÂ¶ÈÍ¨µÀ
 329   1              SGADCON = 0xf4;         //ÎÂ¶ÈÍ¨µÀ,160Hz
 330   1              EXIF &= 0xbf;           //Çå³ý±êÖ¾
 331   1      //      delay_ms(1);
 332   1              //-- µÃµ½ÎÂ¶È±àÂë --
 333   1              ADcode_pre = 0;
 334   1              while (1)
 335   1              {
 336   2                      //---Î¹¹·--¼°ÆäËû°²È«´¦Àí-begin-
 337   2                      WD_TA = 0x05;
 338   2                      WD_TA = 0x0a;
 339   2                      WDCON = 0x1f;   //¿´ÃÅ¹·Ê±¼ä 4sÖÓ,(¹Ø±Õ)µÍÆµ»½ÐÑ0.2s
 340   2                      //---Î¹¹·--¼°ÆäËû°²È«´¦Àí-end-
 341   2                      
 342   2                      while((EXIF & 0x40) == 0x00)    //Èç¹ûÃ»ÓÐÊý¾Ý
 343   2                              ;
 344   2                      EXIF &= 0xbf;           //Çå³ý±êÖ¾
 345   2                      //-----------
 346   2                      // ¶ÁÈ¡  µÄ ×ª»»Êý¾Ý
 347   2                      temp.b[1] = SGADC3;
 348   2                      temp.b[2] = SGADC2;
 349   2                      temp.b[3] = SGADC1;
 350   2                      temp.b[0] = 0;
 351   2                      temp.w ^= 0x800000;                     // ÒòÎªÊä³öÎªË«¼«ÐÔ£¬+0x800000½«¸º¶ËÆ½ÒÆÉÏÀ´
 352   2                      temp.w &= 0x00ffffff;
 353   2                      temp.w >>= 2;
 354   2      
 355   2                      //-----------
 356   2                      j ++;
 357   2                      if(labs(temp.w - adcode_last) <= 0x200) 
 358   2                      {
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 7   

 359   3                              ADcode_pre += temp.w;
 360   3                              i++;
 361   3                      }
 362   2                      else 
 363   2                      {
 364   3                              adcode_last = temp.w;
 365   3                              ADcode_pre = 0;
 366   3                              i = 0;
 367   3                      }
 368   2      
 369   2                      if(i >= 4)
 370   2                      {
 371   3                              adcode_last = ADcode_pre >> 2;
 372   3                              break;
 373   3                      }
 374   2                      else
 375   2                      if(j >= 10)
 376   2                      {
 377   3                              adcode_last = temp.w;
 378   3                              break;
 379   3                      }
 380   2              }
 381   1              //-- ÎÂ¶È¼ÆËã --
 382   1              if(SDI5219X1_symbol)
 383   1              {
 384   2              temp.w = (unsigned long)(TEMP_CODE_DELTA_X1) * (unsigned long)(TEMP_VREF_0_X1) / (unsigned long)(System_d
             -ata.sys_struct.Temp_vref);
 385   2              temp.w += ZERO_SIGNAL_CODE_X1;
 386   2              per_temp_code_acture = (unsigned long)(TEMP_PER_D_CODE_0_X1) * (unsigned long)(TEMP_VREF_0_X1) / (unsigne
             -d long)(System_data.sys_struct.Temp_vref);
 387   2              }
 388   1              else
 389   1              {
 390   2              temp.w = (unsigned long)(TEMP_CODE_DELTA) * (unsigned long)(TEMP_VREF_0) / (unsigned long)(System_data.sy
             -s_struct.Temp_vref);
 391   2              temp.w += ZERO_SIGNAL_CODE;
 392   2              per_temp_code_acture = (unsigned long)(TEMP_PER_D_CODE_0) * (unsigned long)(TEMP_VREF_0) / (unsigned long
             -)(System_data.sys_struct.Temp_vref);
 393   2              }
 394   1              //--test-
 395   1              //Price = per_temp_code_acture; //temp.w / 100;
 396   1              //--test-
 397   1      
 398   1              Temperature = 0x00;
 399   1              if(adcode_last >= temp.w)       //Áã¶ÈÒÔÉÏ
 400   1              {
 401   2                      ADcode_pre =    adcode_last - temp.w;
 402   2                      temp_sign = 0;
 403   2              }
 404   1              else
 405   1              {
 406   2                      ADcode_pre =    temp.w - adcode_last;
 407   2                      temp_sign = 1;
 408   2              }
 409   1              Temperature = ADcode_pre / per_temp_code_acture;
 410   1              if(Temperature >= 70)   //ÏÞÖÆÔÚ+/- 70¶ÈµÄ·¶Î§
 411   1                      Temperature = 70;
 412   1              if(temp_sign)
 413   1                      Temperature = -Temperature;
 414   1              //-- Í¨µÀ»Ö¸´ --
 415   1              SGADCON = SGADCON_DEFAULT;      //1Í¨µÀ,20Hz
 416   1              PD_CON = PD_CON_DEFAULT;
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 8   

 417   1              EXIF &= 0xbf;           //Çå³ý±êÖ¾
 418   1              i = 0;
 419   1              if(mode)        //ÐèÒªÍ¨µÀ1ÑÓ³Ù
 420   1              {
 421   2                      while (i<5)
 422   2                      {
 423   3                              //---Î¹¹·--¼°ÆäËû°²È«´¦Àí-begin-
 424   3                              WD_TA = 0x05;
 425   3                              WD_TA = 0x0a;
 426   3                              WDCON = 0x1f;   //¿´ÃÅ¹·Ê±¼ä 4sÖÓ,(¹Ø±Õ)µÍÆµ»½ÐÑ0.2s
 427   3                              //---Î¹¹·--¼°ÆäËû°²È«´¦Àí-end-
 428   3                              while(!IE0)     //Èç¹ûÃ»ÓÐÊý¾Ý
 429   3                                      ;
 430   3                              IE0 = 0;                //Çå³ý±êÖ¾
 431   3                              i++;
 432   3                      }
 433   2              }
 434   1              EA = 1; //´ò¿ª°´¼üÖÐ¶Ï          
 435   1      }
 436          #endif
 437          //--- Ìõ¼þ±àÒë: ÎÂ¶È¼ì²â -- end ---
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 9   

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION main (BEGIN)
                                           ; SOURCE LINE # 23
                                           ; SOURCE LINE # 24
                                           ; SOURCE LINE # 32
0000 C2AF              CLR     EA
                                           ; SOURCE LINE # 33
0002 75AA05            MOV     WD_TA,#05H
                                           ; SOURCE LINE # 34
0005 75AA0A            MOV     WD_TA,#0AH
                                           ; SOURCE LINE # 35
0008 75A9BF            MOV     WDCON,#0BFH
                                           ; SOURCE LINE # 37
000B E5EB              MOV     A,LCD_CON
000D B45C09            CJNE    A,#05CH,?C0001
0010 E5EC              MOV     A,LCD_SEL
0012 B4D004            CJNE    A,#0D0H,?C0001
                                           ; SOURCE LINE # 38
0015 D200        R     SETB    SDI5219X1_symbol
0017 8002              SJMP    ?C0002
0019         ?C0001:
                                           ; SOURCE LINE # 40
0019 C200        R     CLR     SDI5219X1_symbol
001B         ?C0002:
                                           ; SOURCE LINE # 42
001B 7580FF            MOV     P0,#0FFH
                                           ; SOURCE LINE # 43
001E 7590DF            MOV     P1,#0DFH
                                           ; SOURCE LINE # 44
0021 75A0FF            MOV     P2,#0FFH
                                           ; SOURCE LINE # 45
0024 C282              CLR     SCLK
                                           ; SOURCE LINE # 47
0026 E4                CLR     A
0027 F59A              MOV     PWMF_H,A
                                           ; SOURCE LINE # 48
0029 759BFF            MOV     PWMF_L,#0FFH
                                           ; SOURCE LINE # 49
002C 759C30            MOV     PWM0,#030H
                                           ; SOURCE LINE # 50
002F 759DFF            MOV     PWM1,#0FFH
                                           ; SOURCE LINE # 51
0032 759E04            MOV     PWMCON,#04H
                                           ; SOURCE LINE # 54
0035 F594              MOV     P1M0,A
                                           ; SOURCE LINE # 55
0037 F595              MOV     P1M1,A
                                           ; SOURCE LINE # 57
0039 F592              MOV     P0M0,A
                                           ; SOURCE LINE # 58
003B 7593FF            MOV     P0M1,#0FFH
                                           ; SOURCE LINE # 60
003E F594              MOV     P1M0,A
                                           ; SOURCE LINE # 61
0040 7595FF            MOV     P1M1,#0FFH
                                           ; SOURCE LINE # 63
0043 F596              MOV     P2M0,A
                                           ; SOURCE LINE # 64
0045 7597FF            MOV     P2M1,#0FFH
                                           ; SOURCE LINE # 66
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 10  

0048 5392DF            ANL     P0M0,#0DFH
004B 439205            ORL     P0M0,#05H
004E 439321            ORL     P0M1,#021H
0051 5393FB            ANL     P0M1,#0FBH
0054 439438            ORL     P1M0,#038H
0057 5395CF            ANL     P1M1,#0CFH
005A 439508            ORL     P1M1,#08H
                                           ; SOURCE LINE # 70
005D 75B134            MOV     SGADCON,#034H
                                           ; SOURCE LINE # 71
0060 75A218            MOV     PD_CON,#018H
                                           ; SOURCE LINE # 73
0063 758911            MOV     TMOD,#011H
                                           ; SOURCE LINE # 74
0066 758C80            MOV     TH0,#080H
                                           ; SOURCE LINE # 75
0069 F58A              MOV     TL0,A
                                           ; SOURCE LINE # 81
006B C288              CLR     IT0
                                           ; SOURCE LINE # 84
006D 75A881            MOV     IE,#081H
                                           ; SOURCE LINE # 87
0070 75B805            MOV     IP,#05H
                                           ; SOURCE LINE # 88
0073 75F806            MOV     EIP,#06H
                                           ; SOURCE LINE # 94
0076 900000      R     MOV     DPTR,#Temperature
0079 7419              MOV     A,#019H
007B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 95
007C E4                CLR     A
007D 900000      R     MOV     DPTR,#Temp_auto_det_counter
0080 F0                MOVX    @DPTR,A
0081 A3                INC     DPTR
0082 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 99
0083 7FF4              MOV     R7,#0F4H
0085 7E01              MOV     R6,#01H
0087 120000      R     LCALL   _delay_ms
                                           ; SOURCE LINE # 102
008A C2AF              CLR     EA
                                           ; SOURCE LINE # 103
008C 75AA05            MOV     WD_TA,#05H
                                           ; SOURCE LINE # 104
008F 75AA0A            MOV     WD_TA,#0AH
                                           ; SOURCE LINE # 105
0092 75A91F            MOV     WDCON,#01FH
                                           ; SOURCE LINE # 106
0095 D2AF              SETB    EA
                                           ; SOURCE LINE # 111
0097 C200        R     CLR     ?temp_code_catch?BIT
0099 120000      R     LCALL   temp_code_catch
009C         ?C0003:
                                           ; SOURCE LINE # 118
                                           ; SOURCE LINE # 119
                                           ; SOURCE LINE # 121
009C 5392DF            ANL     P0M0,#0DFH
009F 439205            ORL     P0M0,#05H
00A2 439321            ORL     P0M1,#021H
00A5 5393FB            ANL     P0M1,#0FBH
00A8 439438            ORL     P1M0,#038H
00AB 5395CF            ANL     P1M1,#0CFH
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 11  

00AE 439508            ORL     P1M1,#08H
                                           ; SOURCE LINE # 125
00B1 C2AF              CLR     EA
                                           ; SOURCE LINE # 126
00B3 75AA05            MOV     WD_TA,#05H
                                           ; SOURCE LINE # 127
00B6 75AA0A            MOV     WD_TA,#0AH
                                           ; SOURCE LINE # 128
00B9 75A91F            MOV     WDCON,#01FH
                                           ; SOURCE LINE # 129
00BC D2AF              SETB    EA
                                           ; SOURCE LINE # 131
00BE D2A8              SETB    EX0
                                           ; SOURCE LINE # 136
00C0 300032      R     JNB     Key_press,?C0005
00C3 20002F      R     JB      Key_response,?C0005
                                           ; SOURCE LINE # 137
                                           ; SOURCE LINE # 138
00C6 120000      E     LCALL   key_scan
                                           ; SOURCE LINE # 140
00C9 900000      R     MOV     DPTR,#NRM_securty_a
00CC 74AA              MOV     A,#0AAH
00CE F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 141
00CF E500        R     MOV     A,Key_code
00D1 B40C21            CJNE    A,#0CH,?C0005
                                           ; SOURCE LINE # 142
                                           ; SOURCE LINE # 145
00D4 A3                INC     DPTR
00D5 7455              MOV     A,#055H
00D7 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 147
00D8 7F00              MOV     R7,#00H
00DA 7E70              MOV     R6,#070H
00DC 120000      E     LCALL   _nvm_data_read_byte
00DF 8F00        R     MOV     temp,R7
                                           ; SOURCE LINE # 148
00E1 0500        R     INC     temp
                                           ; SOURCE LINE # 149
00E3 7F00              MOV     R7,#00H
00E5 7E70              MOV     R6,#070H
00E7 120000      E     LCALL   _e2rom_erase
                                           ; SOURCE LINE # 150
00EA 7D37              MOV     R5,#037H
00EC 7F00              MOV     R7,#00H
00EE 7E70              MOV     R6,#070H
00F0 120000      E     LCALL   _nvm_data_write_byte
                                           ; SOURCE LINE # 151
00F3 D200        R     SETB    Key_response
                                           ; SOURCE LINE # 152
                                           ; SOURCE LINE # 153
00F5         ?C0005:
                                           ; SOURCE LINE # 162
00F5 30004A      R     JNB     Data_sycle_symbol,?C0007
                                           ; SOURCE LINE # 163
                                           ; SOURCE LINE # 164
00F8 C200        R     CLR     Data_sycle_symbol
                                           ; SOURCE LINE # 166
00FA C3                CLR     C
00FB E500        R     MOV     A,Vol_auto_det_counter+01H
00FD 9460              SUBB    A,#060H
00FF E500        R     MOV     A,Vol_auto_det_counter
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 12  

0101 9409              SUBB    A,#09H
0103 400A              JC      ?C0008
                                           ; SOURCE LINE # 167
                                           ; SOURCE LINE # 168
0105 120000      R     LCALL   power_detect
                                           ; SOURCE LINE # 169
0108 E4                CLR     A
0109 F500        R     MOV     Vol_auto_det_counter,A
010B F500        R     MOV     Vol_auto_det_counter+01H,A
                                           ; SOURCE LINE # 170
010D 8008              SJMP    ?C0009
010F         ?C0008:
                                           ; SOURCE LINE # 172
                                           ; SOURCE LINE # 173
010F 0500        R     INC     Vol_auto_det_counter+01H
0111 E500        R     MOV     A,Vol_auto_det_counter+01H
0113 7002              JNZ     ?C0048
0115 0500        R     INC     Vol_auto_det_counter
0117         ?C0048:
                                           ; SOURCE LINE # 174
0117         ?C0009:
                                           ; SOURCE LINE # 178
0117 C3                CLR     C
0118 900000      R     MOV     DPTR,#Temp_auto_det_counter+01H
011B E0                MOVX    A,@DPTR
011C 9460              SUBB    A,#060H
011E 900000      R     MOV     DPTR,#Temp_auto_det_counter
0121 E0                MOVX    A,@DPTR
0122 9409              SUBB    A,#09H
0124 400E              JC      ?C0010
                                           ; SOURCE LINE # 179
                                           ; SOURCE LINE # 181
0126 D200        R     SETB    ?temp_code_catch?BIT
0128 120000      R     LCALL   temp_code_catch
                                           ; SOURCE LINE # 182
012B E4                CLR     A
012C 900000      R     MOV     DPTR,#Temp_auto_det_counter
012F F0                MOVX    @DPTR,A
0130 A3                INC     DPTR
0131 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 183
0132 800E              SJMP    ?C0007
0134         ?C0010:
                                           ; SOURCE LINE # 185
                                           ; SOURCE LINE # 186
0134 900000      R     MOV     DPTR,#Temp_auto_det_counter+01H
0137 E0                MOVX    A,@DPTR
0138 04                INC     A
0139 F0                MOVX    @DPTR,A
013A 7006              JNZ     ?C0049
013C 900000      R     MOV     DPTR,#Temp_auto_det_counter
013F E0                MOVX    A,@DPTR
0140 04                INC     A
0141 F0                MOVX    @DPTR,A
0142         ?C0049:
                                           ; SOURCE LINE # 187
                                           ; SOURCE LINE # 190
0142         ?C0007:
                                           ; SOURCE LINE # 197
0142 E4                CLR     A
0143 900000      R     MOV     DPTR,#NRM_securty_a
0146 F0                MOVX    @DPTR,A
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 13  

                                           ; SOURCE LINE # 198
0147 A3                INC     DPTR
0148 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 206
0149 438710            ORL     PCON,#010H
                                           ; SOURCE LINE # 215
014C C2AF              CLR     EA
                                           ; SOURCE LINE # 217
014E 5396F0            ANL     P2M0,#0F0H
0151 5397F0            ANL     P2M1,#0F0H
                                           ; SOURCE LINE # 219
0154 D2A2              SETB    KEY_PIN1
                                           ; SOURCE LINE # 220
0156 D2A1              SETB    KEY_PIN2
                                           ; SOURCE LINE # 221
0158 D2A3              SETB    KEY_PIN3
                                           ; SOURCE LINE # 222
015A D2A0              SETB    KEY_PIN4
                                           ; SOURCE LINE # 224
015C C284              CLR     KEY_PIN5
                                           ; SOURCE LINE # 225
015E C2A4              CLR     KEY_PIN6
                                           ; SOURCE LINE # 226
0160 C283              CLR     KEY_PIN7
                                           ; SOURCE LINE # 227
0162 C296              CLR     KEY_PIN8
                                           ; SOURCE LINE # 229
0164 C281              CLR     KEY_PIN10
                                           ; SOURCE LINE # 230
0166 FF                MOV     R7,A
0167 FE                MOV     R6,A
0168 120000      R     LCALL   _delay_ms
                                           ; SOURCE LINE # 232
016B 30A20F            JNB     KEY_PIN1,?C0012
016E 30A10C            JNB     KEY_PIN2,?C0012
0171 30A309            JNB     KEY_PIN3,?C0012
0174 30A006            JNB     KEY_PIN4,?C0012
                                           ; SOURCE LINE # 233
                                           ; SOURCE LINE # 234
0177 C200        R     CLR     Key_press
                                           ; SOURCE LINE # 235
0179 C200        R     CLR     Key_response
                                           ; SOURCE LINE # 236
017B 8002              SJMP    ?C0013
017D         ?C0012:
                                           ; SOURCE LINE # 238
                                           ; SOURCE LINE # 239
017D D200        R     SETB    Key_press
                                           ; SOURCE LINE # 240
017F         ?C0013:
                                           ; SOURCE LINE # 242
017F 5392E5            ANL     P0M0,#0E5H
0182 43931A            ORL     P0M1,#01AH
0185 5394BF            ANL     P1M0,#0BFH
0188 439540            ORL     P1M1,#040H
018B 5396E0            ANL     P2M0,#0E0H
018E 43971F            ORL     P2M1,#01FH
0191 D284              SETB    KEY_PIN5
0193 D2A4              SETB    KEY_PIN6
0195 D283              SETB    KEY_PIN7
0197 D296              SETB    KEY_PIN8
0199 D281              SETB    KEY_PIN10
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 14  

                                           ; SOURCE LINE # 243
019B D2AF              SETB    EA
                                           ; SOURCE LINE # 247
019D 020000      R     LJMP    ?C0003
             ; FUNCTION main (END)

             ; FUNCTION _delay_ms (BEGIN)
                                           ; SOURCE LINE # 254
;---- Variable 'num' assigned to Register 'R6/R7' ----
                                           ; SOURCE LINE # 255
                                           ; SOURCE LINE # 257
;---- Variable 'i' assigned to Register 'R4/R5' ----
0000 E4                CLR     A
0001 FD                MOV     R5,A
0002 FC                MOV     R4,A
0003         ?C0015:
0003 C3                CLR     C
0004 ED                MOV     A,R5
0005 9F                SUBB    A,R7
0006 EC                MOV     A,R4
0007 9E                SUBB    A,R6
0008 5015              JNC     ?C0021
                                           ; SOURCE LINE # 258
;---- Variable 'j' assigned to Register 'R2/R3' ----
000A E4                CLR     A
000B FB                MOV     R3,A
000C FA                MOV     R2,A
000D         ?C0018:
000D 0B                INC     R3
000E BB0001            CJNE    R3,#00H,?C0050
0011 0A                INC     R2
0012         ?C0050:
0012 EB                MOV     A,R3
0013 64A4              XRL     A,#0A4H
0015 4A                ORL     A,R2
0016 70F5              JNZ     ?C0018
0018         ?C0017:
0018 0D                INC     R5
0019 BD0001            CJNE    R5,#00H,?C0051
001C 0C                INC     R4
001D         ?C0051:
001D 80E4              SJMP    ?C0015
                                           ; SOURCE LINE # 260
001F         ?C0021:
001F 22                RET     
             ; FUNCTION _delay_ms (END)

             ; FUNCTION power_detect (BEGIN)
                                           ; SOURCE LINE # 264
                                           ; SOURCE LINE # 265
                                           ; SOURCE LINE # 267
0000 C2AF              CLR     EA
                                           ; SOURCE LINE # 269
0002 D285              SETB    BAT_DET_PIN
                                           ; SOURCE LINE # 271
0004 75AB09            MOV     SARCON,#09H
                                           ; SOURCE LINE # 272
0007 7F01              MOV     R7,#01H
0009 7E00              MOV     R6,#00H
000B 120000      R     LCALL   _delay_ms
                                           ; SOURCE LINE # 274
000E E5AB              MOV     A,SARCON
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 15  

0010 20E208            JB      ACC.2,?C0022
                                           ; SOURCE LINE # 275
                                           ; SOURCE LINE # 276
0013 43AB04            ORL     SARCON,#04H
0016         ?C0023:
                                           ; SOURCE LINE # 277
0016 E5AB              MOV     A,SARCON
0018 20E2FB            JB      ACC.2,?C0023
                                           ; SOURCE LINE # 278
                                           ; SOURCE LINE # 279
                                           ; SOURCE LINE # 280
001B         ?C0022:
                                           ; SOURCE LINE # 282
001B AFAC              MOV     R7,SARDATA
001D 7E00              MOV     R6,#00H
;---- Variable 'v' assigned to Register 'R6/R7' ----
                                           ; SOURCE LINE # 283
001F E4                CLR     A
0020 FC                MOV     R4,A
0021 FD                MOV     R5,A
0022 7BD8              MOV     R3,#0D8H
0024 7A03              MOV     R2,#03H
0026 F9                MOV     R1,A
0027 F8                MOV     R0,A
0028 120000      E     LCALL   ?C?LMUL
002B E4                CLR     A
002C 7BFF              MOV     R3,#0FFH
002E FA                MOV     R2,A
002F F9                MOV     R1,A
0030 F8                MOV     R0,A
0031 120000      E     LCALL   ?C?ULDIV
                                           ; SOURCE LINE # 288
0034 53ABF7            ANL     SARCON,#0F7H
                                           ; SOURCE LINE # 289
0037 D2AF              SETB    EA
                                           ; SOURCE LINE # 290
                                           ; SOURCE LINE # 291
0039         ?C0025:
0039 22                RET     
             ; FUNCTION power_detect (END)

             ; FUNCTION int0_serve (BEGIN)
0000 C0E0              PUSH    ACC
0002 C0F0              PUSH    B
0004 C083              PUSH    DPH
0006 C082              PUSH    DPL
0008 C0D0              PUSH    PSW
000A 75D000            MOV     PSW,#00H
000D C000              PUSH    AR0
000F C001              PUSH    AR1
0011 C002              PUSH    AR2
0013 C003              PUSH    AR3
0015 C004              PUSH    AR4
0017 C005              PUSH    AR5
0019 C006              PUSH    AR6
001B C007              PUSH    AR7
                                           ; SOURCE LINE # 295
                                           ; SOURCE LINE # 297
001D C2AF              CLR     EA
                                           ; SOURCE LINE # 298
001F C200        R     CLR     ADCcmd
                                           ; SOURCE LINE # 299
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 16  

0021 120000      E     LCALL   data_receive
                                           ; SOURCE LINE # 300
0024 7800        R     MOV     R0,#LOW ADcode_pre
0026 120000      E     LCALL   ?C?LLDIDATA
0029 E4                CLR     A
002A FC                MOV     R4,A
002B 7800        R     MOV     R0,#LOW ADcode_pre
002D 120000      E     LCALL   ?C?LSTIDATA
                                           ; SOURCE LINE # 301
0030 7800        R     MOV     R0,#LOW ADcode_pre
0032 120000      E     LCALL   ?C?LLDIDATA
0035 7802              MOV     R0,#02H
0037 120000      E     LCALL   ?C?ULSHR
003A 7800        R     MOV     R0,#LOW ADcode_pre
003C 120000      E     LCALL   ?C?LSTIDATA
                                           ; SOURCE LINE # 302
003F D200        R     SETB    Data_sycle_symbol
                                           ; SOURCE LINE # 303
0041 C289              CLR     IE0
                                           ; SOURCE LINE # 304
0043 D2AF              SETB    EA
                                           ; SOURCE LINE # 305
0045 D007              POP     AR7
0047 D006              POP     AR6
0049 D005              POP     AR5
004B D004              POP     AR4
004D D003              POP     AR3
004F D002              POP     AR2
0051 D001              POP     AR1
0053 D000              POP     AR0
0055 D0D0              POP     PSW
0057 D082              POP     DPL
0059 D083              POP     DPH
005B D0F0              POP     B
005D D0E0              POP     ACC
005F 32                RETI    
             ; FUNCTION int0_serve (END)

             ; FUNCTION temp_code_catch (BEGIN)
                                           ; SOURCE LINE # 314
                                           ; SOURCE LINE # 315
                                           ; SOURCE LINE # 316
0000 E4                CLR     A
0001 F500        R     MOV     adcode_last+03H,A
0003 F500        R     MOV     adcode_last+02H,A
0005 F500        R     MOV     adcode_last+01H,A
0007 F500        R     MOV     adcode_last,A
                                           ; SOURCE LINE # 318
0009 F500        R     MOV     i,A
                                           ; SOURCE LINE # 319
000B F500        R     MOV     j,A
                                           ; SOURCE LINE # 322
000D 7500F8      R     MOV     per_temp_code_acture+03H,#0F8H
0010 750002      R     MOV     per_temp_code_acture+02H,#02H
0013 F500        R     MOV     per_temp_code_acture+01H,A
0015 F500        R     MOV     per_temp_code_acture,A
                                           ; SOURCE LINE # 324
0017 C2AF              CLR     EA
                                           ; SOURCE LINE # 325
0019 C200        R     CLR     ADCcmd
                                           ; SOURCE LINE # 327
001B 53A2E7            ANL     PD_CON,#0E7H
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 17  

                                           ; SOURCE LINE # 328
001E 43A207            ORL     PD_CON,#07H
                                           ; SOURCE LINE # 329
0021 75B1F4            MOV     SGADCON,#0F4H
                                           ; SOURCE LINE # 330
0024 5391BF            ANL     EXIF,#0BFH
                                           ; SOURCE LINE # 333
0027 7800        R     MOV     R0,#LOW ADcode_pre
0029 120000      E     LCALL   ?C?LSTKIDATA
002C 00                DB      00H
002D 00                DB      00H
002E 00                DB      00H
002F 00                DB      00H
0030         ?C0027:
                                           ; SOURCE LINE # 334
                                           ; SOURCE LINE # 335
                                           ; SOURCE LINE # 337
0030 75AA05            MOV     WD_TA,#05H
                                           ; SOURCE LINE # 338
0033 75AA0A            MOV     WD_TA,#0AH
                                           ; SOURCE LINE # 339
0036 75A91F            MOV     WDCON,#01FH
0039         ?C0029:
                                           ; SOURCE LINE # 342
0039 E591              MOV     A,EXIF
003B 30E6FB            JNB     ACC.6,?C0029
003E         ?C0030:
                                           ; SOURCE LINE # 344
003E 5391BF            ANL     EXIF,#0BFH
                                           ; SOURCE LINE # 347
0041 900000      R     MOV     DPTR,#temp+01H
0044 E5B2              MOV     A,SGADC3
0046 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 348
0047 A3                INC     DPTR
0048 E5B3              MOV     A,SGADC2
004A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 349
004B A3                INC     DPTR
004C E5B4              MOV     A,SGADC1
004E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 350
004F E4                CLR     A
0050 900000      R     MOV     DPTR,#temp
0053 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 351
0054 E0                MOVX    A,@DPTR
0055 FC                MOV     R4,A
0056 A3                INC     DPTR
0057 E0                MOVX    A,@DPTR
0058 FD                MOV     R5,A
0059 A3                INC     DPTR
005A E0                MOVX    A,@DPTR
005B FE                MOV     R6,A
005C A3                INC     DPTR
005D E0                MOVX    A,@DPTR
005E FF                MOV     R7,A
005F ED                MOV     A,R5
0060 6480              XRL     A,#080H
0062 FD                MOV     R5,A
0063 EC                MOV     A,R4
0064 900000      R     MOV     DPTR,#temp
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 18  

0067 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 352
006A 900000      R     MOV     DPTR,#temp
006D A3                INC     DPTR
006E E0                MOVX    A,@DPTR
006F FD                MOV     R5,A
0070 A3                INC     DPTR
0071 E0                MOVX    A,@DPTR
0072 FE                MOV     R6,A
0073 A3                INC     DPTR
0074 E0                MOVX    A,@DPTR
0075 FF                MOV     R7,A
0076 E4                CLR     A
0077 FC                MOV     R4,A
0078 900000      R     MOV     DPTR,#temp
007B 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 353
007E 900000      R     MOV     DPTR,#temp
0081 E0                MOVX    A,@DPTR
0082 FC                MOV     R4,A
0083 A3                INC     DPTR
0084 E0                MOVX    A,@DPTR
0085 FD                MOV     R5,A
0086 A3                INC     DPTR
0087 E0                MOVX    A,@DPTR
0088 FE                MOV     R6,A
0089 A3                INC     DPTR
008A E0                MOVX    A,@DPTR
008B FF                MOV     R7,A
008C 7802              MOV     R0,#02H
008E 120000      E     LCALL   ?C?ULSHR
0091 900000      R     MOV     DPTR,#temp
0094 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 356
0097 0500        R     INC     j
                                           ; SOURCE LINE # 357
0099 900000      R     MOV     DPTR,#temp
009C E0                MOVX    A,@DPTR
009D FC                MOV     R4,A
009E A3                INC     DPTR
009F E0                MOVX    A,@DPTR
00A0 FD                MOV     R5,A
00A1 A3                INC     DPTR
00A2 E0                MOVX    A,@DPTR
00A3 FE                MOV     R6,A
00A4 A3                INC     DPTR
00A5 E0                MOVX    A,@DPTR
00A6 C3                CLR     C
00A7 9500        R     SUBB    A,adcode_last+03H
00A9 FF                MOV     R7,A
00AA EE                MOV     A,R6
00AB 9500        R     SUBB    A,adcode_last+02H
00AD FE                MOV     R6,A
00AE ED                MOV     A,R5
00AF 9500        R     SUBB    A,adcode_last+01H
00B1 FD                MOV     R5,A
00B2 EC                MOV     A,R4
00B3 9500        R     SUBB    A,adcode_last
00B5 FC                MOV     R4,A
00B6 120000      E     LCALL   _labs
00B9 E4                CLR     A
00BA FB                MOV     R3,A
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 19  

00BB 7A02              MOV     R2,#02H
00BD F9                MOV     R1,A
00BE F8                MOV     R0,A
00BF C3                CLR     C
00C0 120000      E     LCALL   ?C?SLCMP
00C3 4026              JC      ?C0031
                                           ; SOURCE LINE # 358
                                           ; SOURCE LINE # 359
00C5 7800        R     MOV     R0,#LOW ADcode_pre
00C7 120000      E     LCALL   ?C?LLDIDATA
00CA 900000      R     MOV     DPTR,#temp
00CD E0                MOVX    A,@DPTR
00CE F8                MOV     R0,A
00CF A3                INC     DPTR
00D0 E0                MOVX    A,@DPTR
00D1 F9                MOV     R1,A
00D2 A3                INC     DPTR
00D3 E0                MOVX    A,@DPTR
00D4 FA                MOV     R2,A
00D5 A3                INC     DPTR
00D6 E0                MOVX    A,@DPTR
00D7 2F                ADD     A,R7
00D8 FF                MOV     R7,A
00D9 EA                MOV     A,R2
00DA 3E                ADDC    A,R6
00DB FE                MOV     R6,A
00DC E9                MOV     A,R1
00DD 3D                ADDC    A,R5
00DE FD                MOV     R5,A
00DF E8                MOV     A,R0
00E0 3C                ADDC    A,R4
00E1 FC                MOV     R4,A
00E2 7800        R     MOV     R0,#LOW ADcode_pre
00E4 120000      E     LCALL   ?C?LSTIDATA
                                           ; SOURCE LINE # 360
00E7 0500        R     INC     i
                                           ; SOURCE LINE # 361
00E9 8021              SJMP    ?C0032
00EB         ?C0031:
                                           ; SOURCE LINE # 363
                                           ; SOURCE LINE # 364
00EB 900000      R     MOV     DPTR,#temp
00EE E0                MOVX    A,@DPTR
00EF FC                MOV     R4,A
00F0 A3                INC     DPTR
00F1 E0                MOVX    A,@DPTR
00F2 FD                MOV     R5,A
00F3 A3                INC     DPTR
00F4 E0                MOVX    A,@DPTR
00F5 FE                MOV     R6,A
00F6 A3                INC     DPTR
00F7 E0                MOVX    A,@DPTR
00F8 F500        R     MOV     adcode_last+03H,A
00FA 8E00        R     MOV     adcode_last+02H,R6
00FC 8D00        R     MOV     adcode_last+01H,R5
00FE 8C00        R     MOV     adcode_last,R4
                                           ; SOURCE LINE # 365
0100 7800        R     MOV     R0,#LOW ADcode_pre
0102 120000      E     LCALL   ?C?LSTKIDATA
0105 00                DB      00H
0106 00                DB      00H
0107 00                DB      00H
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 20  

0108 00                DB      00H
                                           ; SOURCE LINE # 366
0109 E4                CLR     A
010A F500        R     MOV     i,A
                                           ; SOURCE LINE # 367
010C         ?C0032:
                                           ; SOURCE LINE # 369
010C E500        R     MOV     A,i
010E C3                CLR     C
010F 9404              SUBB    A,#04H
0111 400E              JC      ?C0033
                                           ; SOURCE LINE # 370
                                           ; SOURCE LINE # 371
0113 7800        R     MOV     R0,#LOW ADcode_pre
0115 120000      E     LCALL   ?C?LLDIDATA
0118 7802              MOV     R0,#02H
011A 120000      E     LCALL   ?C?ULSHR
011D 8F00        R     MOV     adcode_last+03H,R7
                                           ; SOURCE LINE # 372
011F 8019              SJMP    ?C0053
                                           ; SOURCE LINE # 373
0121         ?C0033:
                                           ; SOURCE LINE # 375
0121 E500        R     MOV     A,j
0123 C3                CLR     C
0124 940A              SUBB    A,#0AH
0126 5003              JNC     $ + 5H
0128 020000      R     LJMP    ?C0027
                                           ; SOURCE LINE # 376
                                           ; SOURCE LINE # 377
012B 900000      R     MOV     DPTR,#temp
012E E0                MOVX    A,@DPTR
012F FC                MOV     R4,A
0130 A3                INC     DPTR
0131 E0                MOVX    A,@DPTR
0132 FD                MOV     R5,A
0133 A3                INC     DPTR
0134 E0                MOVX    A,@DPTR
0135 FE                MOV     R6,A
0136 A3                INC     DPTR
0137 E0                MOVX    A,@DPTR
0138 F500        R     MOV     adcode_last+03H,A
013A         ?C0053:
013A 8E00        R     MOV     adcode_last+02H,R6
013C 8D00        R     MOV     adcode_last+01H,R5
013E 8C00        R     MOV     adcode_last,R4
                                           ; SOURCE LINE # 378
                                           ; SOURCE LINE # 379
                                           ; SOURCE LINE # 380
0140         ?C0028:
                                           ; SOURCE LINE # 382
0140 900000      R     MOV     DPTR,#System_data+08H
0143 E0                MOVX    A,@DPTR
0144 FE                MOV     R6,A
0145 A3                INC     DPTR
0146 E0                MOVX    A,@DPTR
0147 FB                MOV     R3,A
0148 30004B      R     JNB     SDI5219X1_symbol,?C0036
                                           ; SOURCE LINE # 383
                                           ; SOURCE LINE # 384
014B AA06              MOV     R2,AR6
014D E4                CLR     A
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 21  

014E F9                MOV     R1,A
014F F8                MOV     R0,A
0150 7F30              MOV     R7,#030H
0152 7E5E              MOV     R6,#05EH
0154 7D37              MOV     R5,#037H
0156 7C2B              MOV     R4,#02BH
0158 120000      E     LCALL   ?C?ULDIV
015B 900000      R     MOV     DPTR,#temp
015E 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 385
0161 900000      R     MOV     DPTR,#temp
0164 E0                MOVX    A,@DPTR
0165 FC                MOV     R4,A
0166 A3                INC     DPTR
0167 E0                MOVX    A,@DPTR
0168 FD                MOV     R5,A
0169 A3                INC     DPTR
016A E0                MOVX    A,@DPTR
016B FE                MOV     R6,A
016C A3                INC     DPTR
016D E0                MOVX    A,@DPTR
016E 2400              ADD     A,#00H
0170 FF                MOV     R7,A
0171 E4                CLR     A
0172 3E                ADDC    A,R6
0173 FE                MOV     R6,A
0174 ED                MOV     A,R5
0175 3420              ADDC    A,#020H
0177 FD                MOV     R5,A
0178 E4                CLR     A
0179 3C                ADDC    A,R4
017A FC                MOV     R4,A
017B 900000      R     MOV     DPTR,#temp
017E 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 386
0181 900000      R     MOV     DPTR,#System_data+08H
0184 E0                MOVX    A,@DPTR
0185 FE                MOV     R6,A
0186 A3                INC     DPTR
0187 E0                MOVX    A,@DPTR
0188 FB                MOV     R3,A
0189 AA06              MOV     R2,AR6
018B E4                CLR     A
018C F9                MOV     R1,A
018D F8                MOV     R0,A
018E 7FAC              MOV     R7,#0ACH
0190 7EDE              MOV     R6,#0DEH
0192 7D24              MOV     R5,#024H
                                           ; SOURCE LINE # 387
0194 8049              SJMP    ?C0052
0196         ?C0036:
                                           ; SOURCE LINE # 389
                                           ; SOURCE LINE # 390
0196 AA06              MOV     R2,AR6
0198 E4                CLR     A
0199 F9                MOV     R1,A
019A F8                MOV     R0,A
019B 7FE0              MOV     R7,#0E0H
019D 7EDF              MOV     R6,#0DFH
019F 7D69              MOV     R5,#069H
01A1 7C2B              MOV     R4,#02BH
01A3 120000      E     LCALL   ?C?ULDIV
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 22  

01A6 900000      R     MOV     DPTR,#temp
01A9 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 391
01AC 900000      R     MOV     DPTR,#temp
01AF E0                MOVX    A,@DPTR
01B0 FC                MOV     R4,A
01B1 A3                INC     DPTR
01B2 E0                MOVX    A,@DPTR
01B3 FD                MOV     R5,A
01B4 A3                INC     DPTR
01B5 E0                MOVX    A,@DPTR
01B6 FE                MOV     R6,A
01B7 A3                INC     DPTR
01B8 E0                MOVX    A,@DPTR
01B9 2400              ADD     A,#00H
01BB FF                MOV     R7,A
01BC E4                CLR     A
01BD 3E                ADDC    A,R6
01BE FE                MOV     R6,A
01BF ED                MOV     A,R5
01C0 3420              ADDC    A,#020H
01C2 FD                MOV     R5,A
01C3 E4                CLR     A
01C4 3C                ADDC    A,R4
01C5 FC                MOV     R4,A
01C6 900000      R     MOV     DPTR,#temp
01C9 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 392
01CC 900000      R     MOV     DPTR,#System_data+08H
01CF E0                MOVX    A,@DPTR
01D0 FE                MOV     R6,A
01D1 A3                INC     DPTR
01D2 E0                MOVX    A,@DPTR
01D3 FB                MOV     R3,A
01D4 AA06              MOV     R2,AR6
01D6 E4                CLR     A
01D7 F9                MOV     R1,A
01D8 F8                MOV     R0,A
01D9 7F90              MOV     R7,#090H
01DB 7E62              MOV     R6,#062H
01DD 7D26              MOV     R5,#026H
01DF         ?C0052:
01DF FC                MOV     R4,A
01E0 120000      E     LCALL   ?C?ULDIV
01E3 8F00        R     MOV     per_temp_code_acture+03H,R7
01E5 8E00        R     MOV     per_temp_code_acture+02H,R6
01E7 8D00        R     MOV     per_temp_code_acture+01H,R5
01E9 8C00        R     MOV     per_temp_code_acture,R4
                                           ; SOURCE LINE # 393
01EB         ?C0037:
                                           ; SOURCE LINE # 398
01EB E4                CLR     A
01EC 900000      R     MOV     DPTR,#Temperature
01EF F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 399
01F0 900000      R     MOV     DPTR,#temp
01F3 E0                MOVX    A,@DPTR
01F4 FC                MOV     R4,A
01F5 A3                INC     DPTR
01F6 E0                MOVX    A,@DPTR
01F7 FD                MOV     R5,A
01F8 A3                INC     DPTR
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 23  

01F9 E0                MOVX    A,@DPTR
01FA FE                MOV     R6,A
01FB A3                INC     DPTR
01FC E0                MOVX    A,@DPTR
01FD FF                MOV     R7,A
01FE AB00        R     MOV     R3,adcode_last+03H
0200 AA00        R     MOV     R2,adcode_last+02H
0202 A900        R     MOV     R1,adcode_last+01H
0204 A800        R     MOV     R0,adcode_last
0206 C3                CLR     C
0207 120000      E     LCALL   ?C?ULCMP
020A 900000      R     MOV     DPTR,#temp
020D E0                MOVX    A,@DPTR
020E 4023              JC      ?C0038
                                           ; SOURCE LINE # 400
                                           ; SOURCE LINE # 401
0210 F8                MOV     R0,A
0211 A3                INC     DPTR
0212 E0                MOVX    A,@DPTR
0213 F9                MOV     R1,A
0214 A3                INC     DPTR
0215 E0                MOVX    A,@DPTR
0216 FA                MOV     R2,A
0217 A3                INC     DPTR
0218 E0                MOVX    A,@DPTR
0219 FB                MOV     R3,A
021A E500        R     MOV     A,adcode_last+03H
021C 9B                SUBB    A,R3
021D FF                MOV     R7,A
021E E500        R     MOV     A,adcode_last+02H
0220 9A                SUBB    A,R2
0221 FE                MOV     R6,A
0222 E500        R     MOV     A,adcode_last+01H
0224 99                SUBB    A,R1
0225 FD                MOV     R5,A
0226 E500        R     MOV     A,adcode_last
0228 98                SUBB    A,R0
0229 FC                MOV     R4,A
022A 7800        R     MOV     R0,#LOW ADcode_pre
022C 120000      E     LCALL   ?C?LSTIDATA
                                           ; SOURCE LINE # 402
022F C200        R     CLR     temp_sign
                                           ; SOURCE LINE # 403
0231 8020              SJMP    ?C0039
0233         ?C0038:
                                           ; SOURCE LINE # 405
                                           ; SOURCE LINE # 406
0233 FC                MOV     R4,A
0234 A3                INC     DPTR
0235 E0                MOVX    A,@DPTR
0236 FD                MOV     R5,A
0237 A3                INC     DPTR
0238 E0                MOVX    A,@DPTR
0239 FE                MOV     R6,A
023A A3                INC     DPTR
023B E0                MOVX    A,@DPTR
023C C3                CLR     C
023D 9500        R     SUBB    A,adcode_last+03H
023F FF                MOV     R7,A
0240 EE                MOV     A,R6
0241 9500        R     SUBB    A,adcode_last+02H
0243 FE                MOV     R6,A
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 24  

0244 ED                MOV     A,R5
0245 9500        R     SUBB    A,adcode_last+01H
0247 FD                MOV     R5,A
0248 EC                MOV     A,R4
0249 9500        R     SUBB    A,adcode_last
024B FC                MOV     R4,A
024C 7800        R     MOV     R0,#LOW ADcode_pre
024E 120000      E     LCALL   ?C?LSTIDATA
                                           ; SOURCE LINE # 407
0251 D200        R     SETB    temp_sign
                                           ; SOURCE LINE # 408
0253         ?C0039:
                                           ; SOURCE LINE # 409
0253 AB00        R     MOV     R3,per_temp_code_acture+03H
0255 AA00        R     MOV     R2,per_temp_code_acture+02H
0257 A900        R     MOV     R1,per_temp_code_acture+01H
0259 A800        R     MOV     R0,per_temp_code_acture
025B C000              PUSH    AR0
025D 7800        R     MOV     R0,#LOW ADcode_pre
025F 120000      E     LCALL   ?C?LLDIDATA
0262 D000              POP     AR0
0264 120000      E     LCALL   ?C?ULDIV
0267 900000      R     MOV     DPTR,#Temperature
026A EF                MOV     A,R7
026B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 410
026C C3                CLR     C
026D 6480              XRL     A,#080H
026F 94C6              SUBB    A,#0C6H
0271 4003              JC      ?C0040
                                           ; SOURCE LINE # 411
0273 7446              MOV     A,#046H
0275 F0                MOVX    @DPTR,A
0276         ?C0040:
                                           ; SOURCE LINE # 412
0276 300007      R     JNB     temp_sign,?C0041
                                           ; SOURCE LINE # 413
0279 900000      R     MOV     DPTR,#Temperature
027C E0                MOVX    A,@DPTR
027D F4                CPL     A
027E 04                INC     A
027F F0                MOVX    @DPTR,A
0280         ?C0041:
                                           ; SOURCE LINE # 415
0280 75B134            MOV     SGADCON,#034H
                                           ; SOURCE LINE # 416
0283 75A218            MOV     PD_CON,#018H
                                           ; SOURCE LINE # 417
0286 5391BF            ANL     EXIF,#0BFH
                                           ; SOURCE LINE # 418
0289 E4                CLR     A
028A F500        R     MOV     i,A
                                           ; SOURCE LINE # 419
028C 300015      R     JNB     mode,?C0042
                                           ; SOURCE LINE # 420
028F         ?C0043:
                                           ; SOURCE LINE # 421
                                           ; SOURCE LINE # 422
                                           ; SOURCE LINE # 424
028F 75AA05            MOV     WD_TA,#05H
                                           ; SOURCE LINE # 425
0292 75AA0A            MOV     WD_TA,#0AH
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 25  

                                           ; SOURCE LINE # 426
0295 75A91F            MOV     WDCON,#01FH
0298         ?C0045:
                                           ; SOURCE LINE # 428
0298 3089FD            JNB     IE0,?C0045
029B         ?C0046:
                                           ; SOURCE LINE # 430
029B C289              CLR     IE0
                                           ; SOURCE LINE # 431
029D 0500        R     INC     i
                                           ; SOURCE LINE # 432
029F E500        R     MOV     A,i
02A1 B405EB            CJNE    A,#05H,?C0043
                                           ; SOURCE LINE # 433
02A4         ?C0042:
                                           ; SOURCE LINE # 434
02A4 D2AF              SETB    EA
                                           ; SOURCE LINE # 435
02A6 22                RET     
             ; FUNCTION temp_code_catch (END)

C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 26  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


ADCcmd . . . . . . . . . . . . . . . .  PUBLIC   DATA   BIT      0000H  1
P1M0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0094H  1
P0M1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0093H  1
Key_response . . . . . . . . . . . . .  PUBLIC   DATA   BIT      0001H  1
P2M0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0096H  1
P1M1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0095H  1
P0 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0080H  1
P2M1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0097H  1
P1 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0090H  1
SGADCON. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B1H  1
P2 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A0H  1
SARDATA. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00ACH  1
P3 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B0H  1
_labs. . . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
int0_serve . . . . . . . . . . . . . .  STATIC   CODE   PROC     0000H  -----
System_data. . . . . . . . . . . . . .  PUBLIC   XDATA  UNION    0000H  10
EA . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AFH  1
ADpattern. . . . . . . . . . . . . . .  * TAG *  -----  UNION    -----  4
  w. . . . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0000H  4
  b. . . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  4
power_detect . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  v. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0006H  2
_bool. . . . . . . . . . . . . . . . .  * TAG *  -----  ENUM     -----  -----
IE . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A8H  1
WD_TA. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00AAH  1
KEY_PIN10. . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0081H  1
LCD_CON. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00EBH  1
SGADC1 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B4H  1
Temperature. . . . . . . . . . . . . .  PUBLIC   XDATA  CHAR     000AH  1
SGADC2 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B3H  1
uchar. . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
SGADC3 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B2H  1
LCD_SEL. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00ECH  1
IP . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B8H  1
Lcd_lamp_symbol. . . . . . . . . . . .  PUBLIC   DATA   BIT      0002H  1
temp_code_catch. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  mode . . . . . . . . . . . . . . . .  AUTO     DATA   BIT      0000H  1
  adcode_last. . . . . . . . . . . . .  AUTO     DATA   U_LONG   0000H  4
  temp . . . . . . . . . . . . . . . .  AUTO     XDATA  UNION    0000H  4
  i. . . . . . . . . . . . . . . . . .  AUTO     DATA   U_CHAR   0004H  1
  j. . . . . . . . . . . . . . . . . .  AUTO     DATA   U_CHAR   0005H  1
  temp_sign. . . . . . . . . . . . . .  AUTO     DATA   BIT      0001H  1
  per_temp_code_acture . . . . . . . .  AUTO     DATA   U_LONG   0006H  4
NRM_securty_a. . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   000BH  1
NRM_securty_b. . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   000CH  1
PWM0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009CH  1
PWM1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009DH  1
main . . . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  temp . . . . . . . . . . . . . . . .  AUTO     DATA   U_CHAR   0000H  1
Key_code . . . . . . . . . . . . . . .  PUBLIC   DATA   U_CHAR   0000H  1
ulong. . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
EXIF . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0091H  1
SCLK . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0082H  1
PCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0087H  1
_delay_ms. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  num. . . . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0006H  2
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0004H  2
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 27  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  j. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0002H  2
SCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0098H  1
TMOD . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0089H  1
TCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0088H  1
Power_det_mode . . . . . . . . . . . .  PUBLIC   DATA   BIT      0003H  1
SDI5219X1_symbol . . . . . . . . . . .  PUBLIC   DATA   BIT      0004H  1
Temp_auto_det_counter. . . . . . . . .  PUBLIC   XDATA  U_INT    000DH  2
_e2rom_erase . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
Key_press. . . . . . . . . . . . . . .  PUBLIC   DATA   BIT      0005H  1
Cal_temp_sign. . . . . . . . . . . . .  PUBLIC   DATA   BIT      0006H  1
IE0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0089H  1
TURE . . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
uint . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
_nvm_data_read_byte. . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
SARCON . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00ABH  1
ADcode_pre . . . . . . . . . . . . . .  PUBLIC   IDATA  U_LONG   0000H  4
TH0. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008CH  1
EX0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A8H  1
IT0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0088H  1
TL0. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008AH  1
key_scan . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
Vol_auto_det_counter . . . . . . . . .  PUBLIC   DATA   U_INT    0001H  2
_nvm_data_write_byte . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
PD_CON . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A2H  1
PWMCON . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009EH  1
BAT_DET_PIN. . . . . . . . . . . . . .  ABSBIT   -----  BIT      0085H  1
EIP. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F8H  1
SYS_pattern. . . . . . . . . . . . . .  * TAG *  -----  UNION    -----  10
  sys_struct . . . . . . . . . . . . .  MEMBER   -----  STRUCT   0000H  10
  b. . . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  10
KEY_PIN1 . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A2H  1
PWMF_H . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009AH  1
data_receive . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
KEY_PIN2 . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A1H  1
boolean. . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
KEY_PIN3 . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A3H  1
KEY_PIN4 . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A0H  1
KEY_PIN5 . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0084H  1
PWMF_L . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009BH  1
T2CON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C8H  1
KEY_PIN6 . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A4H  1
KEY_PIN7 . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0083H  1
KEY_PIN8 . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0096H  1
FALSE. . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
INTpattern . . . . . . . . . . . . . .  * TAG *  -----  UNION    -----  2
  i. . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
  b. . . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  2
Lcd_bright . . . . . . . . . . . . . .  PUBLIC   DATA   U_CHAR   0003H  1
Data_sycle_symbol. . . . . . . . . . .  PUBLIC   DATA   BIT      0007H  1
PSW. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D0H  1
WDCON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A9H  1
P0M0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0092H  1


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1281    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =     15       4
C51 COMPILER V7.50   MAIN                                                                  09/07/2022 10:22:32 PAGE 28  

   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4      11
   IDATA SIZE       =      4    ----
   BIT SIZE         =      8       2
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
